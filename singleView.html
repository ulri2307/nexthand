<!DOCTYPE html>
<html lang="da">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>nexthand</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <main id="single">
        <button class="luk">Tilbage</button>
        <section class="indhold">
            <article class="enkeltVare">
                <img class="billede" src="" alt="billede">
                <h4 class="navn"></h4>
                <p class="lang"></p>
                <p class="pris"></p>
            </article>
        </section>
    </main>

    <footer>
        <div id="wrapper">
            <div class="info">
                <p>Adresse:</p>
                <p>Grønnegade 97</p>
                <p>1234 København K</p>
            </div>
            <div class="info">
                <p>Åbningstider:</p>
                <p>Mandag - fredag: 10:30-22:00</p>
                <p>Lørdag: 12:00-23:00</p>
            </div>
        </div>
    </footer>

    <script>
        let urlParams = new URLSearchParams(window.location.search);
        let id = urlParams.get("id");
        let varer;

        document.addEventListener("DOMContentLoaded", hentJson);

        async function hentJson() {
            const jsonData = await fetch("https://spreadsheets.google.com/feeds/list/1mMZ6UI2-PXD05ApvpFvcxDUxDIGkskqlYwOtrnWw4FU/od6/public/values?alt=json");
            varer = await jsonData.json();
            visVare();
            document.querySelector(".luk").addEventListener("click", () => {
                history.back();
            })
        }

        function visVare() {
            varer.feed.entry.forEach((vare) => {
                if (vare.gsx$id.$t == id) {
                    document.querySelector(".billede").src = `nexthand_pics/${vare.gsx$billede.$t}.png`;
                    document.querySelector(".navn").textContent = vare.gsx$navn.$t;
                    document.querySelector(".lang").textContent = vare.gsx$lang.$t;
                    document.querySelector(".pris").textContent = vare.gsx$pris.$t;
                };
            })
        }

    </script>

</body>

</html>
